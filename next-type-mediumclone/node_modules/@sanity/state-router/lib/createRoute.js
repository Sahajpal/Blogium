'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = createRoute;

var _isPlainObject = require('lodash/isPlainObject');

var _isPlainObject2 = _interopRequireDefault(_isPlainObject);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function arrayify(fn) {
  return function () {
    var ret = fn.apply(undefined, arguments);
    return Array.isArray(ret) ? ret : ret == null ? [] : [ret];
  };
}

function createRoute(pattern) {
  var options = void 0,
      children = void 0;

  for (var _len = arguments.length, rest = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    rest[_key - 1] = arguments[_key];
  }

  if ((0, _isPlainObject2.default)(rest[0]) || typeof rest[0] === 'string') {
    options = rest[0];
    children = rest[1];

    if (typeof options === 'string') {
      options = { activeKey: options };
    }
  } else {
    options = {};
    children = rest[0];
  }
  if (!pattern.includes(':')) {
    // throw new Error(`A route must include at least one unique parameter. Please check the route "${pattern}"`)
  }
  return {
    pattern: pattern,
    options: options || {},
    children: arrayify(typeof children === 'function' ? children : function () {
      return children;
    })
  };
}