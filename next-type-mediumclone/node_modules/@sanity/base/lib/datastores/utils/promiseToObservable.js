'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = promiseToObservable;

var _SanityStoreObservable = require('./SanityStoreObservable');

var _SanityStoreObservable2 = _interopRequireDefault(_SanityStoreObservable);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function promiseToObservable(promise) {
  return new _SanityStoreObservable2.default(function (subscriber) {
    promise.then(onSuccess, onError);

    function onSuccess(value) {
      subscriber.next(value);
      complete();
    }

    function onError(error) {
      subscriber.error(error);
      complete();
    }

    function complete() {
      subscriber.complete();
    }
  });
}