(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.SanityClient = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";function AssetsClient(e){this.client=e}var assign=require("xtend/mutable"),validators=require("../validators"),ASSET_TYPES_TO_ENDPOINT={image:"images",file:"files"};assign(AssetsClient.prototype,{upload:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};validators.validateAssetType(e);var i=validators.hasDataset(this.client.clientConfig),n="contentType"in s?{"Content-Type":s.contentType}:{},a=ASSET_TYPES_TO_ENDPOINT[e];return this.client.requestObservable({method:"POST",headers:assign({Accept:"application/json"},n),uri:"/assets/"+a+"/"+i,body:t,json:!1,timeout:0}).map(function(e){return"response"!==e.type?e:assign({},e,{body:JSON.parse(e.body)})})}}),module.exports=AssetsClient;

},{"../validators":15,"xtend/mutable":26}],2:[function(require,module,exports){
"use strict";function AuthClient(t){this.client=t}var assign=require("xtend/mutable");assign(AuthClient.prototype,{getLoginProviders:function(){return this.client.request({uri:"/auth/providers"})},logout:function(){return this.client.request({uri:"/auth/logout"})}}),module.exports=AuthClient;

},{"xtend/mutable":26}],3:[function(require,module,exports){
"use strict";var assign=require("xtend/mutable"),validate=require("./validators"),defaultConfig=exports.defaultConfig={apiHost:"https://api.sanity.io",useProjectHostname:!0};exports.initConfig=function(t,e){var o=assign({},defaultConfig,e,t),a=o.useProjectHostname;if("undefined"==typeof Promise)throw new Error("No native `Promise`-implementation found, polyfill needed");if(a&&!o.projectId)throw new Error("Configuration must contain `projectId`");a&&validate.projectId(o.projectId),o.dataset&&validate.dataset(o.dataset);var i=o.apiHost.split("://",2),r=i[0],n=i[1];return o.useProjectHostname?o.url=r+"://"+o.projectId+"."+n+"/v1":o.url=o.apiHost+"/v1",o};
},{"./validators":15,"xtend/mutable":26}],4:[function(require,module,exports){
"use strict";function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var assign=require("xtend/mutable"),validators=require("../validators"),encodeQueryString=require("./encodeQueryString"),Transaction=require("./transaction"),Patch=require("./patch"),getMutationQuery=function(t){return assign({returnIDs:!0},t.returnDocuments===!1?{}:{returnDocuments:!0})},getQuerySizeLimit=1948;module.exports={fetch:function(t,e){return this.dataRequest("query",{query:t,params:e}).then(function(t){return t.result||[]})},getDocument:function(t){return this.request({uri:"/data/doc/"+t,json:!0}).then(function(t){return t.documents&&t.documents[0]})},create:function(t,e){return this._create(t,"create",e)},createIfNotExists:function(t,e){return this._create(t,"createIfNotExists",e)},createOrReplace:function(t,e){return this._create(t,"createOrReplace",e)},patch:function(t,e){return new Patch(t,e,this)},delete:function(t){return validators.validateDocumentId("delete",t),this.dataRequest("mutate",{mutations:[{delete:{id:t}}]})},mutate:function(t,e){var r=t instanceof Patch?t.serialize():t,n=Array.isArray(r)?r:[r];return this.dataRequest("mutate",{mutations:n},e)},transaction:function(t){return new Transaction(t,this)},dataRequest:function(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u="mutate"===t,i=!u&&encodeQueryString(e),a=!u&&i.length<getQuerySizeLimit,s=a?i:"",o=n.returnFirst;return validators.promise.hasDataset(this.clientConfig).then(function(i){return r.request({method:a?"GET":"POST",uri:"/data/"+t+"/"+i+s,json:!0,body:a?void 0:e,query:u&&getMutationQuery(n)})}).then(function(t){if(!u)return t;var e=t.results||[];if(n.returnDocuments)return o?e[0]&&e[0].document:e.map(function(t){return t.document});var r=o?"documentId":"documentIds",i=o?e[0]&&e[0].id:e.map(function(t){return t.id});return _defineProperty({transactionId:t.transactionID},r,i)})},_create:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=validators.hasDataset(this.clientConfig),u=_defineProperty({},e,assign({},t,{_id:t._id||n+"/"})),i=assign({returnFirst:!0,returnDocuments:!0},r);return this.dataRequest("mutate",{mutations:[u]},i)}};

},{"../validators":15,"./encodeQueryString":5,"./patch":6,"./transaction":7,"xtend/mutable":26}],5:[function(require,module,exports){
"use strict";var enc=encodeURIComponent;module.exports=function(e){var n=e.query,r=e.params,c=void 0===r?{}:r;return Object.keys(c).reduce(function(e,n){return e+"&"+enc("$"+n)+"="+enc(JSON.stringify(c[n]))},"?query="+enc(n))};

},{}],6:[function(require,module,exports){
"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Patch(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.selection=e,this.operations=assign({},t),this.client=n}function getSelection(e){if("string"==typeof e||Array.isArray(e))return{id:e};if(e&&e.query)return{query:e.query};var t=["* Dataset-prefixed document ID (<dataset/docId>)","* Array of dataset-prefixed document IDs","* Object containing `query`"].join("\n");throw new Error("Unknown selection for patch - must be one of:\n\n"+t)}var deepAssign=require("deep-assign"),assign=require("xtend/mutable"),validateObject=require("../validators").validateObject;assign(Patch.prototype,{clone:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Patch(this.selection,assign({},this.operations,e),this.client)},merge:function(e){return validateObject("merge",e),this.clone({merge:deepAssign(this.operations.merge||{},e)})},set:function(e){return this._assign("set",e)},setIfMissing:function(e){return this._assign("setIfMissing",e)},replace:function(e){return validateObject("replace",e),this.clone({replace:e})},inc:function(e){return this._assign("inc",e)},dec:function(e){return this._assign("dec",e)},unset:function(e){throw new Error("Not implemented yet")},append:function(e){throw new Error("Not implemented yet")},prepend:function(e){throw new Error("Not implemented yet")},splice:function(e){throw new Error("Not implemented yet")},serialize:function(){return assign(getSelection(this.selection),this.operations)},toJSON:function(){return this.serialize()},commit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.client)throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");var t="string"==typeof this.selection,n=assign({returnFirst:t,returnDocuments:!0},e);return this.client.mutate({patch:this.serialize()},n)},reset:function(){return new Patch(this.selection,{},this.client)},_assign:function(e,t){return validateObject(e,t),this.clone(_defineProperty({},e,assign({},this.operations[e]||{},t)))}}),module.exports=Patch;

},{"../validators":15,"deep-assign":18,"xtend/mutable":26}],7:[function(require,module,exports){
"use strict";function _defineProperty(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Transaction(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];this.operations=t,this.client=e}var assign=require("xtend/mutable"),validators=require("../validators"),Patch=require("./patch"),defaultMutateOptions={returnDocuments:!1};assign(Transaction.prototype,{clone:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Transaction(this.operations.concat(t),this.client)},create:function(t){return this._create(t,"create")},createIfNotExists:function(t){return this._create(t,"createIfNotExists")},createOrReplace:function(t){return this._create(t,"createOrReplace")},delete:function(t){return validators.validateDocumentId("delete",t),this._add({delete:{id:t}})},patch:function t(e,i){var n="function"==typeof i,r=e instanceof Patch;if(r)return this._add({patch:e.serialize()});if(n){var t=i(new Patch(e,{},this.client));if(!(t instanceof Patch))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:t.serialize()})}return this._add({patch:assign({id:e},i)})},serialize:function(){return this.operations.slice()},toJSON:function(){return this.serialize()},commit:function(t){if(!this.client)throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return this.client.mutate(this.serialize(),t||defaultMutateOptions)},reset:function(){return this.operations=[],this},_create:function(t,e){if(!t._id&&!this.client)throw new Error('Document needs an _id property when transaction is create outside a client scope. Pass `{_id: "<datasetName>:"}` to have Sanity generate an ID for you.');validators.validateObject(e,t);var i=validators.hasDataset(this.client.clientConfig),n=_defineProperty({},e,assign({},t,{_id:t._id||i+"/"}));return this._add(n)},_add:function(t){return this.clone(t)}}),module.exports=Transaction;

},{"../validators":15,"./patch":6,"xtend/mutable":26}],8:[function(require,module,exports){
"use strict";function DatasetsClient(t){this.request=t.request.bind(t)}var assign=require("xtend/mutable"),validate=require("../validators");assign(DatasetsClient.prototype,{create:function(t){return this._modify("PUT",t)},delete:function(t){return this._modify("DELETE",t)},list:function(){return this.request({uri:"/datasets"})},_modify:function(t,e){return validate.dataset(e),this.request({method:t,uri:"/datasets/"+e})}}),module.exports=DatasetsClient;

},{"../validators":15,"xtend/mutable":26}],9:[function(require,module,exports){
"use strict";function queryString(e){var n=function(n,r){return n.concat(encode(r)+"="+encode(e[r]))};return Object.keys(e).reduce(n,[]).join("&")}var encode=function(e){return encodeURIComponent(e)};exports.stringify=queryString;

},{}],10:[function(require,module,exports){
"use strict";function httpError(r){return"Server responded with HTTP "+r.statusCode+" "+(r.statusMessage||"")+", no description"}function stringifyBody(r,e){var o=(e.headers["content-type"]||"").toLowerCase(),t=o.indexOf("application/json")!==-1;return t?JSON.stringify(r,null,2):r}var request=require("@sanity/request"),queryString=require("./queryString"),Observable=require("zen-observable"),debug="".indexOf("sanity")!==-1,log=function(){};module.exports=function(r){r.query&&(r.uri+="?"+queryString.stringify(r.query)),debug&&(log("HTTP %s %s",r.method||"GET",r.uri),"POST"===r.method&&r.body&&log("Request body: %s",JSON.stringify(r.body,null,2)));var e=new Observable(function(e){function o(r){return function(o){var t=o.lengthComputable?o.loaded/o.total:-1;e.next({type:"progress",stage:r,percent:t})}}var t=request(r,function(r,o,t){if(r)return void e.error(r);log("Response code: %s",o.statusCode),debug&&t&&log("Response body: %s",stringifyBody(t,o));var n=o.statusCode>=400;if(n&&t){var s=(t.errors?t.errors.map(function(r){return r.message}):[]).concat([t.error,t.message]).filter(Boolean).join("\n"),u=new Error(s||httpError(o));return u.responseBody=stringifyBody(t,o),u.statusCode=o.statusCode,void e.error(u)}if(n){var i=new Error(httpError(o));return i.statusCode=o.statusCode,void e.error(i)}e.next({type:"response",body:t}),e.complete()});return"upload"in t&&"onprogress"in t.upload&&(t.upload.onprogress=o("upload")),"onprogress"in t&&(t.onprogress=o("download")),t.onabort=function(){e.next({type:"abort"}),e.complete()},function(){return t.abort()}});return e.toPromise=function(){var r=void 0;return e.forEach(function(e){r=e}).then(function(){return r.body})},e};

},{"./queryString":9,"@sanity/request":17,"zen-observable":27}],11:[function(require,module,exports){
"use strict";var tokenHeader="Sanity-Token",projectHeader="Sanity-Project-ID";module.exports=function(e){var t={};return e.token&&(t[tokenHeader]=e.token),!e.useProjectHostname&&e.projectId&&(t[projectHeader]=e.projectId),{headers:t,timeout:"timeout"in e?e.timeout:15e3,withCredentials:!0,json:!0}};

},{}],12:[function(require,module,exports){
"use strict";function ProjectsClient(t){this.client=t}var assign=require("xtend/mutable");assign(ProjectsClient.prototype,{list:function(){return this.client.request({uri:"/projects"})},getById:function(t){return this.client.request({uri:"/projects/"+t})}}),module.exports=ProjectsClient;

},{"xtend/mutable":26}],13:[function(require,module,exports){
"use strict";function SanityClient(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:defaultConfig;this.config(t),this.assets=new AssetsClient(this),this.datasets=new DatasetsClient(this),this.projects=new ProjectsClient(this),this.users=new UsersClient(this),this.auth=new AuthClient(this)}function mergeOptions(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=e.reduce(function(t,e){return t||e.headers?assign(t||{},e.headers||{}):null},null);return assign.apply(void 0,e.concat([n?{headers:n}:{}]))}function createClient(t){return new SanityClient(t)}var assign=require("xtend/mutable"),Patch=require("./data/patch"),Transaction=require("./data/transaction"),dataMethods=require("./data/dataMethods"),DatasetsClient=require("./datasets/datasetsClient"),ProjectsClient=require("./projects/projectsClient"),AssetsClient=require("./assets/assetsClient"),UsersClient=require("./users/usersClient"),AuthClient=require("./auth/authClient"),httpRequest=require("./http/request"),getRequestOptions=require("./http/requestOptions"),_require=require("./config"),defaultConfig=_require.defaultConfig,initConfig=_require.initConfig;assign(SanityClient.prototype,dataMethods),assign(SanityClient.prototype,{config:function(t){return"undefined"==typeof t?this.clientConfig:(this.clientConfig=initConfig(t,this.clientConfig||{}),this)},getUrl:function(t){return this.clientConfig.url+"/"+t.replace(/^\//,"")},request:function(t){return this.requestObservable(t).toPromise()},clone:function(t){var e=assign(this.config(),t||{});return new SanityClient(e)},requestObservable:function(t){return httpRequest(mergeOptions(getRequestOptions(this.clientConfig),t,{uri:this.getUrl(t.uri)}))}}),createClient.Patch=Patch,createClient.Transaction=Transaction,module.exports=createClient;
},{"./assets/assetsClient":1,"./auth/authClient":2,"./config":3,"./data/dataMethods":4,"./data/patch":6,"./data/transaction":7,"./datasets/datasetsClient":8,"./http/request":10,"./http/requestOptions":11,"./projects/projectsClient":12,"./users/usersClient":14,"xtend/mutable":26}],14:[function(require,module,exports){
"use strict";function UsersClient(e){this.client=e}var assign=require("xtend/mutable");assign(UsersClient.prototype,{getById:function(e){return this.client.request({uri:"/users/"+e})}}),module.exports=UsersClient;

},{"xtend/mutable":26}],15:[function(require,module,exports){
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},VALID_ASSET_TYPES=["image","file"];exports.dataset=function(t){if(!/^[-\w]{1,128}$/.test(t))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes")},exports.projectId=function(t){if(!/^[-a-z0-9]+$/i.test(t))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},exports.validateAssetType=function(t){if(VALID_ASSET_TYPES.indexOf(t)===-1)throw new Error("Invalid asset type: "+t+". Must be one of "+VALID_ASSET_TYPES.join(", "))},exports.validateObject=function(t,e){if(null===e||"object"!==("undefined"==typeof e?"undefined":_typeof(e))||Array.isArray(e))throw new Error(t+"() takes an object of properties")},exports.validateDocumentId=function(t,e){if("string"!=typeof e||!/^[-_a-z0-9]{1,128}\/[-_a-z0-9\/]+$/i.test(e))throw new Error(t+"() takes a document ID in format dataset/docId")},exports.hasDataset=function(t){if(!t.dataset)throw new Error("`dataset` must be provided to perform queries");return t.dataset},exports.promise={hasDataset:function(t){return new Promise(function(e){return e(exports.hasDataset(t))})}};
},{}],16:[function(require,module,exports){
"use strict";function forEachArray(e,t){for(var r=0;r<e.length;r++)t(e[r])}function isEmpty(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function initParams(e,t,r){var n=e;return isFunction(t)?(r=t,"string"==typeof e&&(n={uri:e})):n=xtend(t,{uri:e}),n.callback=r,n}function createXHR(e,t,r){return t=initParams(e,t,r),_createXHR(t)}function _createXHR(e){function t(){4===u.readyState&&o()}function r(){var e=void 0;if(e=u.response?u.response:u.responseText||getXml(u),h)try{e=JSON.parse(e)}catch(e){}return e}function n(e){return clearTimeout(p),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,a(e,i)}function o(){if(!d){var t;clearTimeout(p),t=e.useXDR&&void 0===u.status?200:1223===u.status?204:u.status;var n=i,o=null;return 0!==t?(n={body:r(),statusCode:t,method:f,headers:{},url:l,rawRequest:u},u.getAllResponseHeaders&&(n.headers=parseHeaders(u.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),a(o,n,n.body)}}if("undefined"==typeof e.callback)throw new Error("callback argument missing");var s=!1,a=function(t,r,n){s||(s=!0,e.callback(t,r,n))},i={body:void 0,headers:{},statusCode:0,method:f,url:l,rawRequest:u},u=e.xhr||null;u||(u=e.cors||e.useXDR?new createXHR.XDomainRequest:new createXHR.XMLHttpRequest);var c,d,p,l=u.url=e.uri||e.url,f=u.method=e.method||"GET",m=e.body||e.data||null,R=u.headers=e.headers||{},X=!!e.sync,h=!1;if(e.json===!0&&(h=!0,R.accept||R.Accept||(R.Accept="application/json"),"GET"!==f&&"HEAD"!==f&&(R["content-type"]||R["Content-Type"]||(R["Content-Type"]="application/json"),m=JSON.stringify(e.body))),u.onreadystatechange=t,u.onload=o,u.onerror=n,u.onprogress=function(){},u.ontimeout=n,u.open(f,l,!X,e.username,e.password),X||(u.withCredentials=!!e.withCredentials),!X&&e.timeout>0&&(p=setTimeout(function(){d=!0,u.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",n(e)},e.timeout)),u.setRequestHeader)for(c in R)R.hasOwnProperty(c)&&u.setRequestHeader(c,R[c]);else if(e.headers&&!isEmpty(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(u.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(u),u.send(m),u}function getXml(e){if("document"===e.responseType)return e.responseXML;var t=204===e.status&&e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}function noop(){}var window=require("global/window"),isFunction=require("is-function"),parseHeaders=require("parse-headers"),xtend=require("xtend");module.exports=createXHR,createXHR.XMLHttpRequest=window.XMLHttpRequest||noop,createXHR.XDomainRequest="withCredentials"in new createXHR.XMLHttpRequest?createXHR.XMLHttpRequest:window.XDomainRequest,forEachArray(["get","put","post","patch","head","delete"],function(e){createXHR["delete"===e?"del":e]=function(t,r,n){return r=initParams(t,r,n),r.method=e.toUpperCase(),_createXHR(r)}});
},{"global/window":20,"is-function":21,"parse-headers":23,"xtend":25}],17:[function(require,module,exports){
module.exports=require("@bjoerge/xhr");
},{"@bjoerge/xhr":16}],18:[function(require,module,exports){
"use strict";function toObject(r){if(null===r||void 0===r)throw new TypeError("Sources cannot be null or undefined");return Object(r)}function assignKey(r,e,n){var t=e[n];if(void 0!==t&&null!==t){if(hasOwnProperty.call(r,n)&&(void 0===r[n]||null===r[n]))throw new TypeError("Cannot convert undefined or null to object ("+n+")");hasOwnProperty.call(r,n)&&isObj(t)?r[n]=assign(Object(r[n]),e[n]):r[n]=t}}function assign(r,e){if(r===e)return r;e=Object(e);for(var n in e)hasOwnProperty.call(e,n)&&assignKey(r,e,n);if(Object.getOwnPropertySymbols)for(var t=Object.getOwnPropertySymbols(e),o=0;o<t.length;o++)propIsEnumerable.call(e,t[o])&&assignKey(r,e,t[o]);return r}var isObj=require("is-obj"),hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;module.exports=function(r){r=toObject(r);for(var e=1;e<arguments.length;e++)assign(r,arguments[e]);return r};
},{"is-obj":22}],19:[function(require,module,exports){
function forEach(r,t,o){if(!isFunction(t))throw new TypeError("iterator must be a function");arguments.length<3&&(o=this),"[object Array]"===toString.call(r)?forEachArray(r,t,o):"string"==typeof r?forEachString(r,t,o):forEachObject(r,t,o)}function forEachArray(r,t,o){for(var n=0,a=r.length;n<a;n++)hasOwnProperty.call(r,n)&&t.call(o,r[n],n,r)}function forEachString(r,t,o){for(var n=0,a=r.length;n<a;n++)t.call(o,r.charAt(n),n,r)}function forEachObject(r,t,o){for(var n in r)hasOwnProperty.call(r,n)&&t.call(o,r[n],n,r)}var isFunction=require("is-function");module.exports=forEach;var toString=Object.prototype.toString,hasOwnProperty=Object.prototype.hasOwnProperty;

},{"is-function":21}],20:[function(require,module,exports){
(function (global){
"undefined"!=typeof window?module.exports=window:"undefined"!=typeof global?module.exports=global:"undefined"!=typeof self?module.exports=self:module.exports={};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],21:[function(require,module,exports){
function isFunction(o){var t=toString.call(o);return"[object Function]"===t||"function"==typeof o&&"[object RegExp]"!==t||"undefined"!=typeof window&&(o===window.setTimeout||o===window.alert||o===window.confirm||o===window.prompt)}module.exports=isFunction;var toString=Object.prototype.toString;
},{}],22:[function(require,module,exports){
"use strict";module.exports=function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)};
},{}],23:[function(require,module,exports){
var trim=require("trim"),forEach=require("for-each"),isArray=function(r){return"[object Array]"===Object.prototype.toString.call(r)};module.exports=function(r){if(!r)return{};var e={};return forEach(trim(r).split("\n"),function(r){var t=r.indexOf(":"),i=trim(r.slice(0,t)).toLowerCase(),o=trim(r.slice(t+1));"undefined"==typeof e[i]?e[i]=o:isArray(e[i])?e[i].push(o):e[i]=[e[i],o]}),e};

},{"for-each":19,"trim":24}],24:[function(require,module,exports){
function trim(r){return r.replace(/^\s*|\s*$/g,"")}exports=module.exports=trim,exports.left=function(r){return r.replace(/^\s*/,"")},exports.right=function(r){return r.replace(/\s*$/,"")};
},{}],25:[function(require,module,exports){
function extend(){for(var r={},e=0;e<arguments.length;e++){var t=arguments[e];for(var n in t)hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty;
},{}],26:[function(require,module,exports){
function extend(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty;

},{}],27:[function(require,module,exports){
module.exports=require("./zen-observable.js").Observable;

},{"./zen-observable.js":28}],28:[function(require,module,exports){
"use strict";!function(r,t){"undefined"!=typeof exports?r(exports,module):"undefined"!=typeof self&&r("*"===t?self:t?self[t]={}:{})}(function(r,t){function n(r){return"function"==typeof Symbol&&Boolean(Symbol[r])}function e(r){return n(r)?Symbol[r]:"@@"+r}function o(r,t){var n=r[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function i(r){var t=e("species");return t?r[t]:r}function c(r,t){Object.keys(t).forEach(function(n){var e=Object.getOwnPropertyDescriptor(t,n);e.enumerable=!1,Object.defineProperty(r,n,e)})}function u(r){var t=r._cleanup;t&&(r._cleanup=void 0,t())}function f(r){return void 0===r._observer}function s(r){f(r)||(r._observer=void 0,u(r))}function a(r){return function(t){r.unsubscribe()}}function l(r,t){if(Object(r)!==r)throw new TypeError("Observer must be an object");this._cleanup=void 0,this._observer=r;var n=o(r,"start");if(n&&n.call(r,this),!f(this)){r=new b(this);try{var e=t.call(void 0,r);if(null!=e){if("function"==typeof e.unsubscribe)e=a(e);else if("function"!=typeof e)throw new TypeError(e+" is not a function");this._cleanup=e}}catch(t){return void r.error(t)}f(this)&&u(this)}}function b(r){this._subscription=r}function p(r){if("function"!=typeof r)throw new TypeError("Observable initializer must be a function");this._subscriber=r}c(l.prototype={},{get closed(){return f(this)},unsubscribe:function(){s(this)}}),c(b.prototype={},{get closed(){return f(this._subscription)},next:function(r){var t=this._subscription;if(!f(t)){var n=t._observer;try{var e=o(n,"next");if(!e)return;return e.call(n,r)}catch(r){try{s(t)}finally{throw r}}}},error:function(r){var t=this._subscription;if(f(t))throw r;var n=t._observer;t._observer=void 0;try{var e=o(n,"error");if(!e)throw r;r=e.call(n,r)}catch(r){try{u(t)}finally{throw r}}return u(t),r},complete:function(r){var t=this._subscription;if(!f(t)){var n=t._observer;t._observer=void 0;try{var e=o(n,"complete");r=e?e.call(n,r):void 0}catch(r){try{u(t)}finally{throw r}}return u(t),r}}}),c(p.prototype,{subscribe:function(r){for(var t=[],n=1;n<arguments.length;++n)t.push(arguments[n]);return"function"==typeof r&&(r={next:r,error:t[0],complete:t[1]}),new l(r,this._subscriber)},forEach:function(r){var t=this;return new Promise(function(n,e){return"function"!=typeof r?Promise.reject(new TypeError(r+" is not a function")):void t.subscribe({_subscription:null,start:function(r){if(Object(r)!==r)throw new TypeError(r+" is not an object");this._subscription=r},next:function(t){var n=this._subscription;if(!n.closed)try{return r(t)}catch(r){e(r),n.unsubscribe()}},error:e,complete:n})})},map:function(r){var t=this;if("function"!=typeof r)throw new TypeError(r+" is not a function");var n=i(this.constructor);return new n(function(n){return t.subscribe({next:function(t){if(!n.closed){try{t=r(t)}catch(r){return n.error(r)}return n.next(t)}},error:function(r){return n.error(r)},complete:function(r){return n.complete(r)}})})},filter:function(r){var t=this;if("function"!=typeof r)throw new TypeError(r+" is not a function");var n=i(this.constructor);return new n(function(n){return t.subscribe({next:function(t){if(!n.closed){try{if(!r(t))return}catch(r){return n.error(r)}return n.next(t)}},error:function(r){return n.error(r)},complete:function(){return n.complete()}})})},reduce:function(r){var t=this;if("function"!=typeof r)throw new TypeError(r+" is not a function");var n=i(this.constructor),e=arguments.length>1,o=!1,c=arguments[1],u=c;return new n(function(n){return t.subscribe({next:function(t){if(!n.closed){var i=!o;if(o=!0,!i||e)try{u=r(u,t)}catch(r){return n.error(r)}else u=t}},error:function(r){return n.error(r)},complete:function(){return o||e?(n.next(u),void n.complete()):void n.error(new TypeError("Cannot reduce an empty sequence"))}})})},flatMap:function(r){var t=this;if("function"!=typeof r)throw new TypeError(r+" is not a function");var n=i(this.constructor);return new n(function(n){function e(){o&&0===i.length&&n.complete()}var o=!1,i=[],c=t.subscribe({next:function(t){if(r)try{t=r(t)}catch(r){return void n.error(r)}p.from(t).subscribe({_subscription:null,start:function(r){i.push(this._subscription=r)},next:function(r){n.next(r)},error:function(r){n.error(r)},complete:function(){var r=i.indexOf(this._subscription);r>=0&&i.splice(r,1),e()}})},error:function(r){return n.error(r)},complete:function(){o=!0,e()}});return function(r){i.forEach(function(r){return r.unsubscribe()}),c.unsubscribe()}})}}),Object.defineProperty(p.prototype,e("observable"),{value:function(){return this},writable:!0,configurable:!0}),c(p,{from:function(r){var t="function"==typeof this?this:p;if(null==r)throw new TypeError(r+" is not an object");var i=o(r,e("observable"));if(i){var c=i.call(r);if(Object(c)!==c)throw new TypeError(c+" is not an object");return c.constructor===t?c:new t(function(r){return c.subscribe(r)})}if(n("iterator")&&(i=o(r,e("iterator"))))return new t(function(t){for(var n,e=i.call(r)[Symbol.iterator]();n=e.next(),!n.done;){var o=n.value;if(t.next(o),t.closed)return}t.complete()});if(Array.isArray(r))return new t(function(t){for(var n=0;n<r.length;++n)if(t.next(r[n]),t.closed)return;t.complete()});throw new TypeError(r+" is not observable")},of:function(){for(var r=[],t=0;t<arguments.length;++t)r.push(arguments[t]);var n="function"==typeof this?this:p;return new n(function(t){for(var n=0;n<r.length;++n)if(t.next(r[n]),t.closed)return;t.complete()})}}),Object.defineProperty(p,e("species"),{get:function(){return this},configurable:!0}),r.Observable=p},"*");

},{}]},{},[13])(13)
});